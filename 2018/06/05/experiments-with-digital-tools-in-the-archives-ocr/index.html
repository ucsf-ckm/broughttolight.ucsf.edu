<!DOCTYPE html>

<html lang="en-US">

<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>
Experiments with Digital Tools in the Archives &#8212; OCR | Brought to Light	</title>
<link rel="profile" href="https://gmpg.org/xfn/11" />
<link rel="stylesheet" type="text/css" media="all" href="../../../../wp-content/themes/twentyeleven/style.css" />


<meta name='robots' content='max-image-preview:large' />
	<style>img:is([sizes="auto" i], [sizes^="auto," i]) { contain-intrinsic-size: 3000px 1500px }</style>
	<link rel='dns-prefetch' href='../../../../' />




<link rel='stylesheet' id='wp-block-library-css' href='../../../../wp-includes/css/dist/block-library/style.min.css' type='text/css' media='all' />
<style id='wp-block-library-theme-inline-css' type='text/css'>
.wp-block-audio :where(figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-audio :where(figcaption){color:#ffffffa6}.wp-block-audio{margin:0 0 1em}.wp-block-code{border:1px solid #ccc;border-radius:4px;font-family:Menlo,Consolas,monaco,monospace;padding:.8em 1em}.wp-block-embed :where(figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-embed :where(figcaption){color:#ffffffa6}.wp-block-embed{margin:0 0 1em}.blocks-gallery-caption{color:#555;font-size:13px;text-align:center}.is-dark-theme .blocks-gallery-caption{color:#ffffffa6}:root :where(.wp-block-image figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme :root :where(.wp-block-image figcaption){color:#ffffffa6}.wp-block-image{margin:0 0 1em}.wp-block-pullquote{border-bottom:4px solid;border-top:4px solid;color:currentColor;margin-bottom:1.75em}.wp-block-pullquote cite,.wp-block-pullquote footer,.wp-block-pullquote__citation{color:currentColor;font-size:.8125em;font-style:normal;text-transform:uppercase}.wp-block-quote{border-left:.25em solid;margin:0 0 1.75em;padding-left:1em}.wp-block-quote cite,.wp-block-quote footer{color:currentColor;font-size:.8125em;font-style:normal;position:relative}.wp-block-quote:where(.has-text-align-right){border-left:none;border-right:.25em solid;padding-left:0;padding-right:1em}.wp-block-quote:where(.has-text-align-center){border:none;padding-left:0}.wp-block-quote.is-large,.wp-block-quote.is-style-large,.wp-block-quote:where(.is-style-plain){border:none}.wp-block-search .wp-block-search__label{font-weight:700}.wp-block-search__button{border:1px solid #ccc;padding:.375em .625em}:where(.wp-block-group.has-background){padding:1.25em 2.375em}.wp-block-separator.has-css-opacity{opacity:.4}.wp-block-separator{border:none;border-bottom:2px solid;margin-left:auto;margin-right:auto}.wp-block-separator.has-alpha-channel-opacity{opacity:1}.wp-block-separator:not(.is-style-wide):not(.is-style-dots){width:100px}.wp-block-separator.has-background:not(.is-style-dots){border-bottom:none;height:1px}.wp-block-separator.has-background:not(.is-style-wide):not(.is-style-dots){height:2px}.wp-block-table{margin:0 0 1em}.wp-block-table td,.wp-block-table th{word-break:normal}.wp-block-table :where(figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-table :where(figcaption){color:#ffffffa6}.wp-block-video :where(figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-video :where(figcaption){color:#ffffffa6}.wp-block-video{margin:0 0 1em}:root :where(.wp-block-template-part.has-background){margin-bottom:0;margin-top:0;padding:1.25em 2.375em}
</style>
<style id='classic-theme-styles-inline-css' type='text/css'>
/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}
</style>
<style id='global-styles-inline-css' type='text/css'>
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #fff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--color--blue: #0071ad;--wp--preset--color--dark-gray: #373737;--wp--preset--color--medium-gray: #666;--wp--preset--color--light-gray: #e2e2e2;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
</style>
<link rel='stylesheet' id='twentyeleven-block-style-css' href='../../../../wp-content/themes/twentyeleven/blocks.css' type='text/css' media='all' />


<script defer src="https://librarystudy.ucsf.edu/gsurvey.js"></script>
<link rel="icon" href="../../../../wp-content/uploads/2017/02/cropped-cropped-ucsf-favicon-orange-150x150.png" sizes="32x32" />
<link rel="icon" href="../../../../wp-content/uploads/2017/02/cropped-cropped-ucsf-favicon-orange-300x300.png" sizes="192x192" />
<link rel="apple-touch-icon" href="../../../../wp-content/uploads/2017/02/cropped-cropped-ucsf-favicon-orange-300x300.png" />
<meta name="msapplication-TileImage" content="/wp-content/uploads/2017/02/cropped-cropped-ucsf-favicon-orange-300x300.png" />
		<style type="text/css" id="wp-custom-css">
			footer.entry-meta {
  display: none;
}

div#site-generator {
	display: none;
}		</style>
						<style type="text/css" id="c4wp-checkout-css">
					.woocommerce-checkout .c4wp_captcha_field {
						margin-bottom: 10px;
						margin-top: 15px;
						position: relative;
						display: inline-block;
					}
				</style>
							<style type="text/css" id="c4wp-v3-lp-form-css">
				.login #login, .login #lostpasswordform {
					min-width: 350px !important;
				}
				.wpforms-field-c4wp iframe {
					width: 100% !important;
				}
			</style>
			</head>

<body class="wp-singular post-template-default single single-post postid-3752 single-format-standard wp-embed-responsive wp-theme-twentyeleven singular two-column right-sidebar">
<div class="skip-link"><a class="assistive-text" href="#content">Skip to primary content</a></div><div id="page" class="hfeed">
	<header id="branding">
			
							<h1 id="site-title"><span><a href="../../../../" rel="home" >Brought to Light</a></span></h1>
				<h2 id="site-description">Stories from UCSF Archives and Special Collections</h2>
			

						<a href="../../../../" rel="home" >
				<img src="../../../../wp-content/uploads/2018/01/cropped-ArchivesBanner_students-1.jpg" width="1000" height="288" alt="Brought to Light" decoding="async" />			</a>
			
									
			
			<nav id="access">
				<h3 class="assistive-text">Main menu</h3>
				<div class="menu"><ul>
<li ><a href="../../../../">Home</a></li><li class="page_item"><a href="../../../../about/">About</a></li>
<li class="page_item"><a href="../../../../contact/">Contact</a></li>
<li class="page_item"><a href="../../../../terms-of-use/">Terms of Use</a></li>
</ul></div>
			</nav><!-- #access -->
	</header><!-- #branding -->


	<div id="main">

		<div id="primary">
			<div id="content" role="main">

				
					<nav id="nav-single">
						<h3 class="assistive-text">Post navigation</h3>
						<span class="nav-previous"><a href="../../../../2018/05/29/base-hospital-no-30-one-hundred-years-later-part-two-france" rel="prev"><span class="meta-nav">&larr;</span> Previous</a></span>
						<span class="nav-next"><a href="../../../../2018/06/07/new-archives-intern-lauren-wolters" rel="next">Next <span class="meta-nav">&rarr;</span></a></span>
					</nav><!-- #nav-single -->

					
<article id="post-3752" class="post-3752 post type-post status-publish format-standard hentry">
	<header class="entry-header">
		<h1 class="entry-title">Experiments with Digital Tools in the Archives &#8212; OCR</h1>

				<div class="entry-meta">
			<span class="sep">Posted on </span><a href="../../../../2018/06/05/experiments-with-digital-tools-in-the-archives-ocr" title="11:00 am" rel="bookmark"><time class="entry-date" datetime="2018-06-05T11:00:12+00:00">June 5, 2018 at 11:00 am</time></a><span class="by-author"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="../../../../author/cmacquarie/" title="View all posts by Charles Macquarie" rel="author">Charles Macquarie</a></span></span>		</div><!-- .entry-meta -->
			</header><!-- .entry-header -->

	<div class="entry-content">
		<p>Working on digital &#8220;stuff&#8221; in the archives is always fascinating, because it blurs the borders between digital and physical. Most of the work the takes up my time is at these borders. Physical stuff requires lots of human touches to transition to &#8220;digital,&#8221; and digital stuff similarly requires lots tending by humans to ensure that it is preserved physically. After all, the 1s and 0s are stored physically <em>somewhere,</em> even if on the cloud or in DNA.</p>
<p>We&#8217;re currently working on several projects to convert physical materials to digital text. The huge quantities of rich and complicated textual material in archival collections is full of potential for use as data in both computational health research and also digital medical humanities work, but to be usable for these kinds of projects it needs to be converted to digital text or data, so that it can be interpreted by computers. To get to this point the documents must be scanned, and the scanned documents must either be transcribed, which can be immensely labor intensive, or converted directly by computers using a software that can perform Optical Character Recognition, or OCR. One of our projects using OCR to extract text from a document provides a fascinating look into the world of computer vision.</p>
<div id="attachment_3757" style="width: 594px" class="wp-caption alignnone"><img fetchpriority="high" decoding="async" aria-describedby="caption-attachment-3757" class="size-large wp-image-3757" src="../../../../wp-content/uploads/2018/06/SweetExample-1024x858.jpg" alt="A pen and ink illustration of the lungs and a lymph gland from the Ralph Sweet Collection of Medical Illustrations" width="584" height="489" srcset="../../../../wp-content/uploads/2018/06/SweetExample-1024x858.jpg 1024w, ../../../../wp-content/uploads/2018/06/SweetExample-300x251.jpg 300w, ../../../../wp-content/uploads/2018/06/SweetExample-768x644.jpg 768w, ../../../../wp-content/uploads/2018/06/SweetExample-1536x1287.jpg 1536w, ../../../../wp-content/uploads/2018/06/SweetExample-358x300.jpg 358w, ../../../../wp-content/uploads/2018/06/SweetExample.jpg 1765w" sizes="(max-width: 584px) 100vw, 584px" /><p id="caption-attachment-3757" class="wp-caption-text">An example of the illustrations in the Ralph Sweet Collection</p></div>
<p>The <a href="http://ucsfcat.library.ucsf.edu/record=b1027469">Ralph Sweet Collection of Medical Illustration</a> contains extraordinary examples of the work of one of the most renowned medical illustrators in the United States, so we&#8217;re working on digitizing the collection and putting it online. To do this we need to have detailed metadata &#8212; the kind of information you might expect to find in a catalog record, title, date, author &#8212; about each illustration. Currently this metadata for the Sweet Collection exists only in the form of printed index that was written on a typewriter. We can scan the index, but we do not have the labor to transcribe each of the 2500 or so entries. This is a job for OCR.</p>
<p>The image below shows what a page of the Ralph Sweet index looks like. This is the metadata that we want to be able to extract and turn into digital text so that it can be understood by a computer and used as data.</p>
<div id="attachment_3758" style="width: 594px" class="wp-caption alignnone"><img decoding="async" aria-describedby="caption-attachment-3758" class="wp-image-3758 size-large" src="../../../../wp-content/uploads/2018/06/SweetPageOne-1024x791.png" alt="A page of an type-written index of the Ralph Sweet Collection, showing metadata about each illustration in the colleciton." width="584" height="451" srcset="../../../../wp-content/uploads/2018/06/SweetPageOne-1024x791.png 1024w, ../../../../wp-content/uploads/2018/06/SweetPageOne-300x232.png 300w, ../../../../wp-content/uploads/2018/06/SweetPageOne-768x593.png 768w, ../../../../wp-content/uploads/2018/06/SweetPageOne-388x300.png 388w, ../../../../wp-content/uploads/2018/06/SweetPageOne.png 1098w" sizes="(max-width: 584px) 100vw, 584px" /><p id="caption-attachment-3758" class="wp-caption-text">A page of the index for the Ralph Sweet Collection.</p></div>
<p>One of the first problems we encountered in attempting to extract text from this document is a classic difficulty of computer vision. As English-speaking humans, we know by looking at this document that it contains three columns, and that the order in which to read the page is top to bottom by column, starting on the left and moving right. To a computer however, it is simply a page full of text, and there is no way to know whether or not the text is broken into columns or whether each line should be read all the way across the page. This simple task presented a difficulty for most of the software that we tested, but we found one software which could identify these columns easily. The software is called <a href="https://github.com/tesseract-ocr/">Tesseract</a>, and it was actually developed in the 1980&#8217;s but continues to be a good open-source tool to perform OCR.</p>
<p>If we plug the above page into Tesseract, we get mostly recognizable text, which in itself is pretty miraculous when you think about it. Looking at the text though, it quickly becomes clear that it is not an exact transcription of what&#8217;s on the page. There are misspellings (&#8220;Iivev&#8221;), and some chunks of text have been separated from the entry in which they should appear (&#8220;horizontal&#8221;).</p>
<div id="attachment_3760" style="width: 594px" class="wp-caption alignnone"><img decoding="async" aria-describedby="caption-attachment-3760" class="size-large wp-image-3760" src="../../../../wp-content/uploads/2018/06/SweetTextExample-1024x777.jpg" alt="An image of the text-output of the software tesseract showing errors in transciption. " width="584" height="443" srcset="../../../../wp-content/uploads/2018/06/SweetTextExample-1024x777.jpg 1024w, ../../../../wp-content/uploads/2018/06/SweetTextExample-300x228.jpg 300w, ../../../../wp-content/uploads/2018/06/SweetTextExample-768x583.jpg 768w, ../../../../wp-content/uploads/2018/06/SweetTextExample-395x300.jpg 395w, ../../../../wp-content/uploads/2018/06/SweetTextExample.jpg 1029w" sizes="(max-width: 584px) 100vw, 584px" /><p id="caption-attachment-3760" class="wp-caption-text">An example of the text extracted from the Ralph Sweet Collection Index by Tesseract.</p></div>
<p>Digging into the way that Tesseract (and OCR software more generally) works can help us begin to understand why these errors are cropping up. Plus, it looks really cool.</p>
<p>OCR programs have to go through a set of image manipulation processes to help them decide which marks on the page are text &#8212; and hence should be interpreted &#8212; and which are other marks that can be ignored. This all happen behind the scenes, and usually this involves deciding what the background parts of the image are and blurring them out, increasing the image contrast, and making the image bi-tonal so that everything on the page is only black or white. Then, the computer can trace the black pixels on the image and get a series of shapes which it can use to begin attempting to interpret as text. The image below shows the shapes that Tesseract has identified as letters and traced out for interpretation. Each new color indicates that the computer believes it has moved on to a new letter.</p>
<div id="attachment_3763" style="width: 857px" class="wp-caption alignnone"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-3763" class="size-full wp-image-3763" src="../../../../wp-content/uploads/2018/06/Sweet_OCRView.png" alt="A page of colorful text on a black background illustrating the text that has been automatically traced from the Ralph Sweet Index by the computer program Tessearact." width="847" height="649" srcset="../../../../wp-content/uploads/2018/06/Sweet_OCRView.png 847w, ../../../../wp-content/uploads/2018/06/Sweet_OCRView-300x230.png 300w, ../../../../wp-content/uploads/2018/06/Sweet_OCRView-768x588.png 768w, ../../../../wp-content/uploads/2018/06/Sweet_OCRView-392x300.png 392w" sizes="auto, (max-width: 847px) 100vw, 847px" /><p id="caption-attachment-3763" class="wp-caption-text">The result of Tesseract tracing the letters it has interpreted. Each new color is something that&#8217;s been identified as a new letter.</p></div>
<p>Interestingly, when comparing the computer tracing of the letters to the original image you can see that Tesseract has already made the assumption that the black spaces from the three-hole punch in the top of the page are not letters, and thus it should not bother to trace them. Lucky for us, that&#8217;s correct.</p>
<p>Next the computer has to take all these letters and turn them into words. In actual practice it&#8217;s not quite this simple, but basically the computer iterates on each letter identification that it believes it has made by testing whether or not that word is in its dictionary, and thus whether or not it is likely to be a word. If the combination of letters that the computer thinks it sees are not a word, then it will go back and make a new guess about the letters and test whether or not that&#8217;s a word, and so on. Part of this whole process is to chunk the letters into words using their actual spacing on the page. Below you can see an image of how Tesseract has begun to identify words using the spaces between lines and letters.</p>
<div id="attachment_3766" style="width: 861px" class="wp-caption alignnone"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-3766" class="size-full wp-image-3766" src="../../../../wp-content/uploads/2018/06/Sweet_BlamerView.png" alt="A view of a page of the Ralph Sweet Index showing each word as a blue rectangle encompassing the space taken up by that block of text against a black background -- the &quot;word&quot; output of the OCR program Tesseract. " width="851" height="651" srcset="../../../../wp-content/uploads/2018/06/Sweet_BlamerView.png 851w, ../../../../wp-content/uploads/2018/06/Sweet_BlamerView-300x229.png 300w, ../../../../wp-content/uploads/2018/06/Sweet_BlamerView-768x588.png 768w, ../../../../wp-content/uploads/2018/06/Sweet_BlamerView-392x300.png 392w" sizes="auto, (max-width: 851px) 100vw, 851px" /><p id="caption-attachment-3766" class="wp-caption-text">The &#8220;words&#8221; that the OCR software has identified on the page. Each blue rectangle represents a space that Tesseract has marked as containing a word.</p></div>
<p>In addition to checking the word against the dictionary though, most OCR programs also use the context of the surrounding words to attempt to make a better guess about the text. In most cases this is helpful &#8212; if the computer has read a sentence that says &#8220;the plant requires wader&#8221; it should be a relatively easy task to decide that the last word is actually &#8220;water.&#8221; In our case though, this approach breaks down. The text we want the computer to extract in this case is not sentences, but rather (meta)data. The meaning of the language has little influence on how each individual word should be read. One of the next steps for us will be trying to figure out how to better instruct Tesseract about the importance of context in making word-identification decisions (i.e., that it&#8217;s not important).</p>
<p>Finally, as the OCR software interprets the text it also identifies blocks of words that it believes should be grouped together, like a paragraph. Below you can see the results of this process with Tesseract.</p>
<div id="attachment_3767" style="width: 594px" class="wp-caption alignnone"><img loading="lazy" decoding="async" aria-describedby="caption-attachment-3767" class="size-large wp-image-3767" src="../../../../wp-content/uploads/2018/06/BlockOutline_cropped-1024x683.png" alt="A view of the different elements of tesseract's text identification showing letters traced in primary colors and contained in yellow bounding boxes, words set against blue rectangles outlining the space they encompass, and blocks of text outlined in larger bounding boxes and numbered -- all of this set against a black background." width="584" height="390" srcset="../../../../wp-content/uploads/2018/06/BlockOutline_cropped-1024x683.png 1024w, ../../../../wp-content/uploads/2018/06/BlockOutline_cropped-300x200.png 300w, ../../../../wp-content/uploads/2018/06/BlockOutline_cropped-768x512.png 768w, ../../../../wp-content/uploads/2018/06/BlockOutline_cropped-450x300.png 450w, ../../../../wp-content/uploads/2018/06/BlockOutline_cropped.png 1156w" sizes="auto, (max-width: 584px) 100vw, 584px" /><p id="caption-attachment-3767" class="wp-caption-text">This view shows all of the elements of Tesseract&#8217;s word identification combined. Text has been traced in color, separate letters are contained in bounding boxes, words are contained in blue rectangles, and blocks are contained in larger bounding boxes and are numbered (though the numbers are a bit difficult to see).</p></div>
<p>A line has been drawn around each block of text, and it has been given a number indicating the order in which the computer is reading it. Here we can see the source of one of the biggest problems of the OCR-generated text from earlier. Tesseract is in-accurately excluding a lot of words from their proper blocks. In the above photo, the word &#8220;Pen&#8221; is a good example. It is a part of block 20, but it has been interpreted by the computer as it&#8217;s own block &#8212; block 21 &#8212; and has been set aside to appear in the text file after block 20. Attempting to solve this problem will be our next hurdle, and hopefully we can catch you up after we are successful.</p>
<p>Using OCR to extract text from digital images can be a frustrating endeavor if accuracy is a necessity, but it is also a fascinating illustration of the way computers see and make decisions. Anytime we ask computers to perform tasks that interface with humans, we will always be grappling with similar issues.</p>
			</div><!-- .entry-content -->

	<footer class="entry-meta">
		This entry was posted in Uncategorized by <a href="../../../../author/cmacquarie/">Charles Macquarie</a>. Bookmark the <a href="../../../../2018/06/05/experiments-with-digital-tools-in-the-archives-ocr" title="Permalink to Experiments with Digital Tools in the Archives &#8212; OCR" rel="bookmark">permalink</a>.
		
			</footer><!-- .entry-meta -->
</article><!-- #post-3752 -->

						<div id="comments">
	
	
	
	
</div><!-- #comments -->

				
			</div><!-- #content -->
		</div><!-- #primary -->


	</div><!-- #main -->

	<footer id="colophon">

			

			<div id="site-generator">
												<a href="https://wordpress.org/" class="imprint" title="Semantic Personal Publishing Platform">
					Proudly powered by WordPress				</a>
			</div>
	</footer><!-- #colophon -->
</div><!-- #page -->




</body>
</html>
